%!TEX TS-program = Arara
% arara: pdflatex
% arara: pythontex
% arara: pdflatex
\documentclass[12pt]{scrartcl}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{amsmath,amssymb}
\usepackage{fullpage}
\usepackage{graphicx}
\usepackage[svgnames]{xcolor}
\usepackage{url}
\urlstyle{same}

\usepackage[makestderr]{pythontex}

\begin{document}

%\begin{pyconsole}[][frame=single]
\begin{pycode}[pycode]

import numpy as np
import matplotlib.pyplot as plt
#Example data
t = np.arange(0.0, 1.0 + 0.01, 0.01)
s = np.cos(4 * np.pi * t) + 2
plt.rc('text', usetex=True)
#plt.rc('font', family='serif')
plt.plot(t, s)

plt.xlabel(r'\textbf{time} (s)')
plt.ylabel(r'\textit{voltage} (mV)',fontsize=16)
plt.title(r"\TeX\ is Number "
          r"$\displaystyle\sum_{n=1}^\infty\frac{-e^{i\pi}}{2^n}$!",
          fontsize=16, color='gray')
#Make room for the ridiculously large title.
plt.subplots_adjust(top=0.8)

#save figure
plt.savefig("myplot.pdf")
\end{pycode}

%\end{pyconsole}


\begin{center}
    \includegraphics{myplot.pdf}
\end{center}


\end{document}
